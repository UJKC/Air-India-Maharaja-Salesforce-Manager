<template>
    <lightning-card title="All trips">
        <template if:true={hasFlights}>
            <template for:each={flights} for:item="flight">
                <div key={flight.Id} data-id={flight.Id} class={flight.cardClass} onclick={handleNavigate}>
                    <h2 class="slds-text-heading_medium">{flight.Name}</h2>
                    <p><b>From:</b> {flight.Start_Airport__r.Name}</p>
                    <p><b>To:</b> {flight.End_Airport__r.Name}</p>
                    <p><b>Scheduled:</b> {flight.Schedule__c}</p>
                    <p><b>Destination Time:</b> {flight.Destination_Time__c}</p>
                    <p><b>Status:</b> {flight.Status__c}</p>
                    <p><b>Delayed:</b> {flight.delayedText}</p>
                </div>
            </template>

            <!-- Pagination Controls -->
            <div class="slds-m-around_medium slds-align_absolute-center">
                <lightning-button-icon icon-name="utility:chevronleft" onclick={handlePrev} disabled={disablePrev}
                    alternative-text="Previous">
                </lightning-button-icon>

                <span class="slds-m-horizontal_small">{pageInfo}</span>

                <lightning-button-icon icon-name="utility:chevronright" onclick={handleNext} disabled={disableNext}
                    alternative-text="Next">
                </lightning-button-icon>
            </div>
        </template>

        <template if:true={error}>
            <p class="slds-text-color_error">Error loading trips.</p>
        </template>

        <template if:false={hasFlights}>
            <p>No trips found for this aircraft.</p>
        </template>
    </lightning-card>
</template>